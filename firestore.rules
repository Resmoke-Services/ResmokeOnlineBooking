rules_version = '2';
service cloud.firestore {
match /databases/{database}/documents {

// Rules for the 'bookings' collection
match /bookings/{bookingId} {
  // Any authenticated user can create a new booking.
  // For this to be secure, your booking data should include a 'userId' field.
  allow create: if request.auth != null;

  // Only the user who created the booking (based on the 'userId' field
  // in the document) can read, update, or delete their own booking.
  allow read, update, delete: if request.auth != null && resource.data.userId == request.auth.uid;
}

// It's still good practice to allow users to manage their own user document.
match /users/{userId} {
   allow read, write: if request.auth != null && request.auth.uid == userId;
}

}
}